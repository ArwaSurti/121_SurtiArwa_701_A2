<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Employee Management</title>
</head>
<body>

  <h2>Employee Management</h2>
  <a href="/employees/add">Add New Employee</a>

  <% if (employees.length === 0) { %>
    <p>No employees found. Start by adding your first employee.</p>
  <% } else { %>
    <table border="1" cellpadding="8" cellspacing="0">
      <thead>
        <tr>
          <th>Employee ID</th>
          <th>Name</th>
          <th>Email</th>
          <th>Department</th>
          <th>Position</th>
          <th>Total Salary</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <% employees.forEach(employee => { %>
          <tr>
            <td><%= employee.empId %></td>
            <td><%= employee.name %></td>
            <td><%= employee.email %></td>
            <td><%= employee.department %></td>
            <td><%= employee.position %></td>
            <td>â‚¹<%= employee.totalSalary.toLocaleString() %></td>
            <td>
              <a href="/employees/<%= employee._id %>">View</a> |
              <a href="/employees/<%= employee._id %>/edit">Edit</a> |
              <form action="/employees/<%= employee._id %>?_method=DELETE" method="POST" style="display:inline;">
                <button type="submit" onclick="return confirm('Are you sure you want to delete this employee?')">Delete</button>
              </form>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  <% } %>

</body>
</html>
