<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= product.name %> - Shopping Cart</title>
</head>
<body>
    <h1><%= product.name %></h1>
    
    <table border="1" style="margin: 20px 0;">
        <tr>
            <td style="padding: 10px;">
                <a href="/user/categories/<%= product.category._id %>">‚Üê Back to <%= product.category.name %></a> | 
                <a href="/user/dashboard">Dashboard</a> | 
                <a href="/cart">My Cart</a>
            </td>
        </tr>
    </table>
    
    <table border="1" style="margin: 20px 0; width: 100%;">
        <tr>
            <td colspan="2" style="text-align: center; font-weight: bold; padding: 10px;">
                Product Details
            </td>
        </tr>
        <tr>
            <td style="padding: 10px; width: 200px;"><strong>Product Name:</strong></td>
            <td style="padding: 10px;"><%= product.name %></td>
        </tr>
        <tr>
            <td style="padding: 10px;"><strong>Category:</strong></td>
            <td style="padding: 10px;"><%= product.category.name %></td>
        </tr>
        <tr>
            <td style="padding: 10px;"><strong>Price:</strong></td>
            <td style="padding: 10px;">$<%= product.price.toFixed(2) %></td>
        </tr>
        <tr>
            <td style="padding: 10px;"><strong>Stock:</strong></td>
            <td style="padding: 10px;">
                <%= product.stock > 0 ? product.stock + ' available' : 'Out of stock' %>
            </td>
        </tr>
        <% if (product.sku) { %>
        <tr>
            <td style="padding: 10px;"><strong>SKU:</strong></td>
            <td style="padding: 10px;"><%= product.sku %></td>
        </tr>
        <% } %>
        <% if (product.weight) { %>
        <tr>
            <td style="padding: 10px;"><strong>Weight:</strong></td>
            <td style="padding: 10px;"><%= product.weight %> kg</td>
        </tr>
        <% } %>
        <tr>
            <td style="padding: 10px;"><strong>Description:</strong></td>
            <td style="padding: 10px;"><%= product.description %></td>
        </tr>
    </table>
    
    <% if (product.stock > 0) { %>
    <table border="1" style="margin: 20px 0;">
        <tr>
            <td style="text-align: center; font-weight: bold; padding: 10px;">
                Add to Cart
            </td>
        </tr>
        <tr>
            <td style="padding: 20px; text-align: center;">
                <form action="/cart/add" method="POST">
                    <input type="hidden" name="productId" value="<%= product._id %>">
                    <label for="quantity">Quantity:</label>
                    <input type="number" id="quantity" name="quantity" value="1" min="1" max="<%= product.stock %>" style="width: 80px; padding: 5px; margin: 0 10px;">
                    <button type="submit" style="padding: 8px 20px;">Add to Cart</button>
                </form>
            </td>
        </tr>
    </table>
    <% } else { %>
    <table border="1" style="margin: 20px 0;">
        <tr>
            <td style="text-align: center; padding: 20px; color: #999;">
                This product is currently out of stock.
            </td>
        </tr>
    </table>
    <% } %>
</body>
</html>
